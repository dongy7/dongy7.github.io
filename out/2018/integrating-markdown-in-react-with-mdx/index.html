<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head next-head"/><title class="next-head">Integrating Markdown in React with MDX</title><meta name="viewport" content="width=device-width, initial-scale=1" class="next-head"/><link href="/atom" type="application/atom+xml" rel="alternate" title="Dong Yeop Lee" class="next-head"/><link rel="preload" href="/_next/aa2daeb0-dabd-4cef-b23d-c0271c505a3f/page/2018/integrating-markdown-in-react-with-mdx.js" as="script"/><link rel="preload" href="/_next/aa2daeb0-dabd-4cef-b23d-c0271c505a3f/page/_app.js" as="script"/><link rel="preload" href="/_next/aa2daeb0-dabd-4cef-b23d-c0271c505a3f/page/_error.js" as="script"/><link rel="preload" href="/_next/static/commons/main-95decb6870bdfc04b2de.js" as="script"/><style type="text/css" data-styled-components="" data-styled-components-is-local="false">/* sc-component-id: sc-global-2547192011 */
*{margin:0;box-sizing:border-box;}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto", "Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans", "Helvetica Neue",sans-serif;}a{color:#4b9cd3;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;text-decoration:none;}#nprogress{pointer-events:none;}#nprogress .bar{background:#4b9cd3;position:fixed;z-index:1031;top:0;left:0;width:100%;height:2px;}#nprogress .peg{display:block;position:absolute;right:0px;width:100px;height:100%;box-shadow:0 0 10px #4b9cd3,0 0 5px #4b9cd3;opacity:1.0;-webkit-transform:rotate(3deg) translate(0px,-4px);-ms-transform:rotate(3deg) translate(0px,-4px);transform:rotate(3deg) translate(0px,-4px);}::selection{background:#79FFE1;}
</style><style type="text/css" data-styled-components="bJNFjj jycKZc iCbwNA jyvugG bhVLZb jjZKPl ctwTXC hBLGWD bEKhUM jrrvht iTCfqV ewXwFk bfsUvM cQnDBd ccQCis hNfrbZ hbblDN dSkLFJ LRrBa iNlpFK iWRlYW" data-styled-components-is-local="true">/* sc-component-id: Arrow__Menu-q2injm-0 */

.jycKZc{display:None;width:40px;height:40px;}@media screen and (max-width:950px){.jycKZc{fill:#000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;top:28px;right:20px;-webkit-transition:-webkit-transform 0.2s ease;-webkit-transition:transform 0.2s ease;transition:transform 0.2s ease;-webkit-transform:;-ms-transform:;transform:;}}
/* sc-component-id: Navbar__Header-s1xjo7w1-0 */

.bJNFjj{max-width:900px;margin:auto;padding:30px 0;position:relative;}@media screen and (max-width:950px){.bJNFjj{text-align:center;}}
/* sc-component-id: Navbar__NavContainer-s1xjo7w1-1 */

@media screen and (max-width:950px){.iCbwNA{display:none;padding:20px;background:#fff;width:100%;min-height:90vh;z-index:1;}}
/* sc-component-id: Navbar__Nav-s1xjo7w1-2 */

.jyvugG{margin-top:-2px;padding-right:0;position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}@media screen and (max-width:950px){.jyvugG{position:relative;padding:0;left:0;top:20px;-webkit-transform:none;-ms-transform:none;transform:none;}}
/* sc-component-id: Link-s1pnkrlb-0 */

.bhVLZb{color:#999;padding:10px;padding-left:0px;font-size:12px;font-weight:normal;text-transform:uppercase;}@media screen and (max-width:950px){.bhVLZb{display:block;font-size:20px;}}

.jjZKPl{color:#999;padding:10px;padding-left:10px;font-size:12px;font-weight:normal;text-transform:uppercase;}@media screen and (max-width:950px){.jjZKPl{display:block;font-size:20px;}}
/* sc-component-id: Container-s1f7y6ib-0 */

.ctwTXC{max-width:900px;padding:90px 0 0 0;margin:0 auto;}@media (max-width:950px){.ctwTXC{max-width:100%;padding:50px 30px 0 30px;}}@media (max-width:730px){.ctwTXC{max-width:100%;padding:50px 20px 0 20px;}}
/* sc-component-id: pages__Home-s17hsve2-0 */

.hBLGWD{position:absolute;top:0;left:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;z-index:-1;}
/* sc-component-id: pages__Main-s17hsve2-1 */

.bEKhUM{-webkit-flex:none;-ms-flex:none;flex:none;text-align:center;}
/* sc-component-id: pages__H1-s17hsve2-2 */

.jrrvht{font-size:2em;font-weight:normal;}
/* sc-component-id: pages__Nav-s17hsve2-3 */

.iTCfqV{margin-top:20px;}
/* sc-component-id: pages__A-s17hsve2-4 */

.ewXwFk{display:inline-block;margin:0 15px;text-decoration:none;}
/* sc-component-id: Title__A-s1tjl8o3-0 */

.ccQCis{color:#000;text-decoration:none;}.ccQCis:hover{background-color:#000;color:#fff;}
/* sc-component-id: Title__H1-s1tjl8o3-1 */

.cQnDBd{font-weight:500;margin-bottom:10px;}
/* sc-component-id: Meta-gi0p4q-0 */

.hNfrbZ{margin-bottom:20px;color:#777;}
/* sc-component-id: Post__Article-s1wome8d-0 */

.bfsUvM{font-size:14px;}
/* sc-component-id: Paragraph-s1xc2s0t-0 */

.hbblDN{font-size:14px;line-height:24px;margin-bottom:20px;}
/* sc-component-id: Code-s58spfp-0 */

.iNlpFK{color:#bd10e0;font-size:13px;line-height:22px;font-family:Operator Mono,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif;}
/* sc-component-id: Snippet-s55njzd-0 */

.iWRlYW{padding:20px;margin:40px 0 40px 0;white-space:pre-wrap;word-wrap:break-word;border:1px solid #eaeaea;}
/* sc-component-id: posts__PostDiv-whzhgr-0 */

.dSkLFJ{margin-bottom:10px;}@media (max-width:500px){.dSkLFJ{margin-bottom:15px;}}
/* sc-component-id: posts__DateSpan-whzhgr-1 */

.LRrBa{display:inline-block;width:140px;text-align:right;margin-right:30px;color:#999;}@media (max-width:500px){.LRrBa{display:block;width:inherit;text-align:inherit;font-size:11px;color:#ccc;margin-bottom:5px;}}
</style></head><body><div class="root"><div id="__next"><div><div><header class="Navbar__Header-s1xjo7w1-0 bJNFjj"><div class="Arrow__Menu-q2injm-0 jycKZc"><svg width="27px" height="14px" viewBox="0 0 27 14" version="1.1" style="fill:inherit"><g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd"><polygon id="Arrow" fill-rule="nonzero" points="13.4999996 13.9214282 0.6 1.17499997 1.82857139 0.1 13.4999996 11.7714282 25.1714278 0.1 26.3999992 1.17499997"></polygon></g></svg></div><div class="Navbar__NavContainer-s1xjo7w1-1 iCbwNA"><div class="Navbar__Nav-s1xjo7w1-2 jyvugG"><a class="Link-s1pnkrlb-0 bhVLZb">Home</a><a class="Link-s1pnkrlb-0 jjZKPl">About</a><a class="Link-s1pnkrlb-0 jjZKPl">Posts</a></div></div></header></div><div class="Container-s1f7y6ib-0 ctwTXC"><article class="Post__Article-s1wome8d-0 bfsUvM"><h1 class="Title__H1-s1tjl8o3-1 cQnDBd"><a class="Title__A-s1tjl8o3-0 ccQCis" href="#">Integrating Markdown in React with MDX</a></h1><div class="Meta-gi0p4q-0 hNfrbZ">May 4, 2018</div><div><p class="Paragraph-s1xc2s0t-0 hbblDN">The <a href="https://nextjs.org/">Next</a> framework is great for creating websites with <a href="https://reactjs.org/">React</a>. In fact this <a href="https://github.com/dongy7/dongy7.github.io">blog</a> is built with Next. But one thing that I have missed about using static site frameworks such as <a href="https://jekyllrb.com/">Jekyll</a> is the abillity to write content in Markdown. JSX syntax is nice for defining declarative components, but can be awkward to use when mixed with text. Here is an example from one of my previous posts written with JSX:</p><pre><pre class="Snippet-s55njzd-0 iWRlYW"><code class="Code-s58spfp-0 iNlpFK">&lt;P&gt;
  We can see that the data that we&#x27;re actually interested in, which are the &lt;Code&gt;ids&lt;/Code&gt; of
  the articles is in the &lt;Code&gt;response&lt;/Code&gt; field of the object. Since we are only interested
  in the &lt;Code&gt;response&lt;/Code&gt; field, we can use the &lt;Code&gt;map&lt;/Code&gt; operator:
&lt;/P&gt;
</code></pre></pre><p class="Paragraph-s1xc2s0t-0 hbblDN">As you can see JSX introduces some unnautrual breaks in the text and is just hard to write even with editor integration for JSX. In comparison, the following is an equivalent markdown version:</p><pre><pre class="Snippet-s55njzd-0 iWRlYW"><code class="Code-s58spfp-0 iNlpFK">We can see that the data that we&#x27;re actually interested in, which are the `ids` of the articles
is in the `response` field of the object. Since we are only interested in the `response` field,
we can use the `map` operator:
</code></pre></pre><p class="Paragraph-s1xc2s0t-0 hbblDN">Markdown feels much better to write for things like blog posts where the majority of the content is text. But how do we integrate Markdown with JSX? Fortunately, we can use the <a href="https://github.com/mdx-js/mdx">MDX</a> library to render JSX in Markdown. First install the <code class="Code-s58spfp-0 iNlpFK">MDX</code> library:</p><pre><pre class="Snippet-s55njzd-0 iWRlYW"><code class="Code-s58spfp-0 iNlpFK">npm install --save-dev @mdx-js/loader @mdx-js/mdx
</code></pre></pre><p class="Paragraph-s1xc2s0t-0 hbblDN">or if you use <a href="https://yarnpkg.com/en/">Yarn</a>:</p><pre><pre class="Snippet-s55njzd-0 iWRlYW"><code class="Code-s58spfp-0 iNlpFK">yarn add --dev @mdx-js/loader @mdx-js/mdx
</code></pre></pre><p class="Paragraph-s1xc2s0t-0 hbblDN">If you are using <code class="Code-s58spfp-0 iNlpFK">Next</code>, add this to your <code class="Code-s58spfp-0 iNlpFK">next.config.js</code> so that the <code class="Code-s58spfp-0 iNlpFK">MDX</code> loader is used to load <code class="Code-s58spfp-0 iNlpFK">jsx</code> and <code class="Code-s58spfp-0 iNlpFK">md</code> files.</p><pre><pre class="Snippet-s55njzd-0 iWRlYW"><code class="Code-s58spfp-0 iNlpFK">module.exports = {
  pageExtensions: [&#x27;js&#x27;, &#x27;jsx&#x27;, &#x27;md&#x27;, &#x27;mdx&#x27;],
  webpack: (config, { defaultLoaders }) =&gt; {
    config.module.rules.push({
      test: /.md$/,
      use: [
        defaultLoaders.babel,
        {
          loader: &#x27;@mdx-js/loader&#x27;
        }
      ]
    })

    return config
  }
}
</code></pre></pre><p class="Paragraph-s1xc2s0t-0 hbblDN">If you are using <code class="Code-s58spfp-0 iNlpFK">webpack</code>, then specify the <code class="Code-s58spfp-0 iNlpFK">MDX</code> loader as follows:</p><pre><pre class="Snippet-s55njzd-0 iWRlYW"><code class="Code-s58spfp-0 iNlpFK">module.exports = {
  module: {
    rules: [
      {
        test: /.md$/,
        use: [&#x27;babel-loader&#x27;, &#x27;@mdx-js/loader&#x27;]
      }
    ]
  }
}
</code></pre></pre><p class="Paragraph-s1xc2s0t-0 hbblDN">Next, compose your content and save it to a <code class="Code-s58spfp-0 iNlpFK">markdown</code> file and just import it and use it like a normal React compnent:</p><pre><pre class="Snippet-s55njzd-0 iWRlYW"><code class="Code-s58spfp-0 iNlpFK">import MyBlogPost from &#x27;./MyBlogPost.md&#x27;

export default () =&gt;
  &lt;MyBlogPost /&gt;
</code></pre></pre><p class="Paragraph-s1xc2s0t-0 hbblDN">If you are like me and have defined custom React components for things like code snippets, you can specify them through the <code class="Code-s58spfp-0 iNlpFK">components</code> prop:</p><pre><pre class="Snippet-s55njzd-0 iWRlYW"><code class="Code-s58spfp-0 iNlpFK">import MyBlogPost from &#x27;./MyBlogPost.md&#x27;
import Snippet from &#x27;../components/Snippet&#x27;

export default () =&gt;
  &lt;MyBlogPost
    components={{
      code: Snippet
    }}
  /&gt;
</code></pre></pre><p class="Paragraph-s1xc2s0t-0 hbblDN">That&#x27;s all you need to do in order to start writing content in Markdown for your React powered websites! If you want to learn more about <code class="Code-s58spfp-0 iNlpFK">MDX</code>, I encourage you to check out the <a href="https://github.com/mdx-js/mdx">MDX project page</a>.</p></div></article><div></div></div></div></div><div id="__next-error"></div></div><script>
          __NEXT_DATA__ = {"props":{"pageProps":{}},"page":"/2018/integrating-markdown-in-react-with-mdx","pathname":"/2018/integrating-markdown-in-react-with-mdx","query":{},"buildId":"aa2daeb0-dabd-4cef-b23d-c0271c505a3f","assetPrefix":"","nextExport":true,"err":null,"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }

          false
        </script><script async="" id="__NEXT_PAGE__/2018/integrating-markdown-in-react-with-mdx" src="/_next/aa2daeb0-dabd-4cef-b23d-c0271c505a3f/page/2018/integrating-markdown-in-react-with-mdx.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/aa2daeb0-dabd-4cef-b23d-c0271c505a3f/page/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/_next/aa2daeb0-dabd-4cef-b23d-c0271c505a3f/page/_error.js"></script><script src="/_next/static/commons/main-95decb6870bdfc04b2de.js" async=""></script></body></html>